📌 The Binding of Isaac – C++ 게임 시스템 구현

📖 프로젝트 소개

DirectX9 기반으로 제작한 Isaac 스타일의 2D 로그라이크 액션 게임입니다.
방 랜덤 생성, 충돌 시스템, 전투·아이템·AI·사운드 등 게임 플레이 전반을 엔진 없이 C++로 직접 구현했습니다.
특히 랜덤 룸 생성 알고리즘, 충돌/오브젝트 시스템, 문-방 이동 구조, 장애물 파괴 시스템,
FMOD 사운드 매니저 등 확장성과 구조적 설계에 초점을 맞추었습니다.

🧩 핵심 기능 개요

1. Collision 기반 게임 월드 구조

모든 오브젝트(Entity)는 RECT 기반 충돌 박스를 보유하며,
Collider / ColliderManager 시스템이 게임 내 충돌을 통합 관리합니다.

================================================================
bool Collider::CheckCollision(RECT a, RECT b) {
    return !(a.right < b.left || a.left > b.right ||
             a.bottom < b.top || a.top > b.bottom);
}
================================================================

특징

플레이어, 문, 몬스터, 장애물까지 모두 동일한 충돌 규칙 적용
디버그 모드에서 충돌 박스를 시각화
충돌 시 이동 보정 / 상태 전환 등 즉시 반응 처리

2. 랜덤 룸 생성 알고리즘(Room System)

Isaac 특유의 랜덤 맵 구조를 C++ 단독으로 구현했습니다.

✔ 시작방을 기준으로 BFS 확장
✔ Dead-End 자동 탐색 후 보스/아이템/키 방 자동 배치
✔ 일반 방은 이미지 4종 중 랜덤 할당
✔ 각 방은 고유 RoomID로 관리되며 몬스터/장애물 상태를 저장

================================================================
// Dead End 탐색
if (links == 1)
    deadEnds.push_back(roomId);
================================================================

3. Room ↔ Door 이동 시스템

문 방향(DoorDirection)에 따라 이동 가능한 문을 생성하며,
플레이어가 문 충돌 영역에 진입하면 다음 Room으로 자동 이동합니다.

================================================================
bool Door::IsPlayerEntered(const RECT& playerRc) const {
    if (!isOpen) return false;
    return Collider::CheckCollision(playerRc, col.m_rc);
}
================================================================

룸 타입(보스/아이템/키)에 따라 문 종류 자동 변경
문 열림/닫힘 사운드와 이미지 구분
클리어 여부에 따라 자동 개폐

4. 플레이어 시스템(Isaac)

캐릭터 이동, 전투, 넉백, 무적 판정, 애니메이션 상태 등을 모두 관리합니다.

주요 기능

충돌 기반 이동 처리
눈물 공격 방향에 따른 스프라이트 교체
아이템 습득 → 스탯 변화 반영
넉백 효과(속도 감쇠 기반)

================================================================
nextPos = pos + knockback * backLen;

if (!colliderManager.CheckCollision(m_rc))
    pos = nextPos;

backLen *= 0.8f;
================================================================

5. 장애물 시스템 (Obstacle / Poop / Chest)

각 방별로 장애물 배치가 달라지며, 파괴형 오브젝트(Poop)와 보물상자(Chest)까지 하나의 구조에서 관리됩니다.

Poop : 5단계 파괴 애니메이션
Chest : 플레이어가 열쇠 보유 시 자동 오픈

방마다 장애물 패턴 자동 생성

6. FMOD 사운드 시스템

효과음 / BGM을 구분해 관리하는 자체 사운드 매니저 구현.

================================================================
m_pSystem->playSound(FMOD_CHANNEL_FREE, m_SoundList[id], 0, &m_pChannel);
m_pChannel->setVolume(m_vloumSE);
================================================================

사운드 중복 로딩 방지(경로 캐싱)
BGM / SE 채널 분리
볼륨 조절 기능 포함

🎮 개발 기술 스택

C++
DirectX9
FMOD (사운드)
구조적 프로그래밍 + Manager Pattern
Sprite Animation System

🔥 구현 목표

엔진 없이 순수 C++로 게임 구조를 온전히 구현
Isaac 스타일 구조적 룸 시스템 재현
충돌 기반 게임 플레이 로직 완성
확장 가능한 객체 관리 구조 구축

📌 향후 확장 계획

Tear 패턴 확장(지그재그, 브림스톤 등)
Seed 기반 맵 재생성
몬스터 AI 고도화
템포 기반 BGM 전환
고난도 방 패턴 추가
